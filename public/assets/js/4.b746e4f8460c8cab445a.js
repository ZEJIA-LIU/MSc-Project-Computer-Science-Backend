(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1013:function(_,e,a){var t=a(1014);"string"==typeof t&&(t=[[_.i,t,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(73)(t,r);t.locals&&(_.exports=t.locals)},1014:function(_,e,a){(_.exports=a(72)(!1)).push([_.i,".login-wrap{padding-top:30px;padding-bottom:30px}.login-container{margin:0 auto;width:350px}.login-logo{color:#409EFF;line-height:48px;text-align:center;padding-bottom:20px}.login-logo .logo-txt{padding-left:6px}.user-form{background:#f9f9f9}.user-form .user-form-title{font-size:16px;text-align:center}.user-form .user-form-label{font-size:15px;font-weight:600;padding:10px 0}\n",""])},572:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var antd_lib_card_style_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(606),antd_lib_card_style_css__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(antd_lib_card_style_css__WEBPACK_IMPORTED_MODULE_0__),antd_lib_card__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(607),antd_lib_card__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(antd_lib_card__WEBPACK_IMPORTED_MODULE_1__),antd_lib_button_style_css__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(326),antd_lib_button_style_css__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(antd_lib_button_style_css__WEBPACK_IMPORTED_MODULE_2__),antd_lib_button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(143),antd_lib_button__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(antd_lib_button__WEBPACK_IMPORTED_MODULE_3__),antd_lib_input_style_css__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(581),antd_lib_input_style_css__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(antd_lib_input_style_css__WEBPACK_IMPORTED_MODULE_4__),antd_lib_input__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(583),antd_lib_input__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(antd_lib_input__WEBPACK_IMPORTED_MODULE_5__),antd_lib_icon_style_css__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(579),antd_lib_icon_style_css__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(antd_lib_icon_style_css__WEBPACK_IMPORTED_MODULE_6__),antd_lib_icon__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(96),antd_lib_icon__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(antd_lib_icon__WEBPACK_IMPORTED_MODULE_7__),antd_lib_message_style_css__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(580),antd_lib_message_style_css__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(antd_lib_message_style_css__WEBPACK_IMPORTED_MODULE_8__),antd_lib_message__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(585),antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(antd_lib_message__WEBPACK_IMPORTED_MODULE_9__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(576),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_10__),_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(64),_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_11__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(577),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_12__),styles_user_login_scss__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(1013),styles_user_login_scss__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(styles_user_login_scss__WEBPACK_IMPORTED_MODULE_13__),react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_14__),react_router_dom__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(100),axios__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(588),axios__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_16__),config__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(582),enterModule;enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(94)).enterModule,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(_){return _};function checkEmail(_){var e=new RegExp("^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$");return!(!_||!e.test(_))}var Login=function(_React$Component){function Login(){for(var _,e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return _=_React$Component.call.apply(_React$Component,[this].concat(a))||this,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_12___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_10___default()(_),"state",{showForm:"login",loginEmail:"",loginPwd:"",registerNickname:"",registerPwd:"",registerEmail:"",mailCode:"",disabledGetMailCode:!1,canGetMailCodeTime:60}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_12___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_10___default()(_),"toggleForm",function(e){return _.setState({showForm:e,loginEmail:"",loginPwd:"",registerNickname:"",registerPwd:"",registerEmail:"",mailCode:""})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_12___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_10___default()(_),"inputChange",function(e){var a,t=e.target,r=t.name,l=t.value;_.setState(((a={})[r]=l,a))}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_12___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_10___default()(_),"submitLogin",function(){var e=_.state,a=e.loginEmail,t=e.loginPwd;a?t?axios__WEBPACK_IMPORTED_MODULE_16___default.a.post(config__WEBPACK_IMPORTED_MODULE_17__.a+"/user/login",{username:a,password:t}).then(function(e){var a=e.data,t=a.code,r=a.desc,l=a.data;if(0===t){var i=l.status,E=l.msg,n=l.token;0===i?(localStorage.token=n,antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default.a.success(E),_.props.history.push("/")):antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default.a.error(E)}else antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default.a.error(r)}).catch(function(_){antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default.a.error("发生错误")}):antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default.a.warn("请填写密码"):antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default.a.warn("请填写邮箱")}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_12___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_10___default()(_),"getMailCode",function(){var e=_.state.registerEmail;e?checkEmail(e)?axios__WEBPACK_IMPORTED_MODULE_16___default.a.post(config__WEBPACK_IMPORTED_MODULE_17__.a+"/user/getMailCode",{email:e}).then(function(e){var a=e.data,t=a.code,r=a.desc,l=a.data;if(0===t){var i=l.status,E=l.msg;0===i?(antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default.a.success(E),_.closeGetMailCode()):antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default.a.error(E)}else antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default.a.error(r)}).catch(function(_){antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default.a.error("发生错误")}):antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default.a.warn("邮箱格式不正确"):antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default.a.warn("请输入邮箱地址")}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_12___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_10___default()(_),"closeGetMailCode",function(){_.setState({disabledGetMailCode:!0}),setTimeout(_.countClock,1e3)}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_12___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_10___default()(_),"countClock",function(){var e=_.state.canGetMailCodeTime;0!=e?(_.setState({canGetMailCodeTime:e-1}),setTimeout(_.countClock,1e3)):_.setState({disabledGetMailCode:!1,canGetMailCodeTime:60})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_12___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_10___default()(_),"submitRegister",function(){var e=_.state,a=e.registerEmail,t=e.registerNickname,r=e.registerPwd,l=e.mailCode;t?t.length>10?antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default.a.warn("昵称不能多于10个字"):r?r.length>20?antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default.a.warn("密码不能超过20个字符"):a?checkEmail(a)?l?axios__WEBPACK_IMPORTED_MODULE_16___default.a.post(config__WEBPACK_IMPORTED_MODULE_17__.a+"/user/register",{nickname:t,email:a,password:r,mailCode:l}).then(function(_){var e=_.data,a=e.code,t=e.desc,r=e.data;if(0===a){var l=r.status,i=r.msg;0===l?antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default.a.success(i):antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default.a.error(i)}else antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default.a.error(t)}).catch(function(_){antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default.a.error("发生错误")}):antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default.a.warn("请填写邮箱验证码"):antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default.a.warn("邮箱格式不正确"):antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default.a.warn("请填写邮箱"):antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default.a.warn("请填写密码"):antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default.a.warn("请填写昵称")}),_}_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_11___default()(Login,_React$Component);var _proto=Login.prototype;return _proto.render=function(){var _=this;return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"login-wrap"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"login-container"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("h1",{className:"login-logo"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_icon__WEBPACK_IMPORTED_MODULE_7___default.a,{type:"code"}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("span",{className:"logo-txt"},"SuperCode")),"login"==this.state.showForm?react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_card__WEBPACK_IMPORTED_MODULE_1___default.a,{className:"user-form"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"user-form-title"},"登录"),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"user-form-label"},"邮箱:"),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_input__WEBPACK_IMPORTED_MODULE_5___default.a,{name:"loginEmail",value:this.state.loginEmail,onChange:this.inputChange}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"user-form-label"},"密码:"),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_input__WEBPACK_IMPORTED_MODULE_5___default.a.Password,{name:"loginPwd",value:this.state.loginPwd,onChange:this.inputChange}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_button__WEBPACK_IMPORTED_MODULE_3___default.a,{className:"mt-20",type:"primary",block:!0,onClick:this.submitLogin},"登录"),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_button__WEBPACK_IMPORTED_MODULE_3___default.a,{className:"mt-20",block:!0,onClick:function(){return _.toggleForm("register")}},"注册新账号"),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"mt-20 txt-center txt-blue"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_15__.b,{to:"/"},"直接进入"))):react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_card__WEBPACK_IMPORTED_MODULE_1___default.a,{className:"user-form"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"user-form-title"},"注册"),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"user-form-label"},"昵称:"),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_input__WEBPACK_IMPORTED_MODULE_5___default.a,{name:"registerNickname",value:this.state.registerNickname,onChange:this.inputChange}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"user-form-label"},"密码:"),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_input__WEBPACK_IMPORTED_MODULE_5___default.a.Password,{name:"registerPwd",value:this.state.registerPwd,onChange:this.inputChange}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"user-form-label"},"邮箱:"),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_input__WEBPACK_IMPORTED_MODULE_5___default.a,{name:"registerEmail",value:this.state.registerEmail,onChange:this.inputChange}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"user-form-label"},"邮箱验证码:"),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"input-btn"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"input-wrap"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_input__WEBPACK_IMPORTED_MODULE_5___default.a,{name:"mailCode",value:this.state.mailCode,onChange:this.inputChange})),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_button__WEBPACK_IMPORTED_MODULE_3___default.a,{type:"primary",disabled:this.state.disabledGetMailCode,onClick:this.getMailCode},this.state.disabledGetMailCode?"重新获取("+this.state.canGetMailCodeTime+"秒)":"获取验证码")),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_button__WEBPACK_IMPORTED_MODULE_3___default.a,{className:"mt-20",type:"primary",onClick:this.submitRegister,block:!0},"注册"),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_button__WEBPACK_IMPORTED_MODULE_3___default.a,{className:"mt-20",block:!0,onClick:function(){return _.toggleForm("login")}},"已有账号登录"))))},_proto.__reactstandin__regenerateByEval=function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)},Login}(react__WEBPACK_IMPORTED_MODULE_14___default.a.Component),_default=Login,reactHotLoader,leaveModule;__webpack_exports__.default=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(94)).default,reactHotLoader&&(reactHotLoader.register(checkEmail,"checkEmail","/home/superlin/桌面/workspace/SuperCode/Frontend/src/pages/user/Login.js"),reactHotLoader.register(Login,"Login","/home/superlin/桌面/workspace/SuperCode/Frontend/src/pages/user/Login.js"),reactHotLoader.register(_default,"default","/home/superlin/桌面/workspace/SuperCode/Frontend/src/pages/user/Login.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(94)).leaveModule,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(325)(module))},582:function(_,e,a){"use strict";(function(_){var t;a.d(e,"a",function(){return i}),a.d(e,"b",function(){return E}),(t=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(94)).enterModule)&&t(_);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var r,l,i="http://193.112.242.5:3030",E="ws://193.112.242.5:7070";(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(94)).default)&&(r.register(i,"apiAddress","/home/superlin/桌面/workspace/SuperCode/Frontend/src/config/index.js"),r.register(E,"socketAddress","/home/superlin/桌面/workspace/SuperCode/Frontend/src/config/index.js")),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(94)).leaveModule)&&l(_)}).call(this,a(325)(_))}}]);